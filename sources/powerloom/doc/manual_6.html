<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Copyright C 2010
University of Southern California, Information Sciences Institute,
4676 Admiralty Way,
Marina Del Rey, CA 90292, USA

Permission is granted to make and distribute verbatim copies of this
manual provided the copyright notice and this permission notice are
preserved on all copies.

PowerLoom is a registered trademark of the University of Southern California.

 -->
<!-- Created on April 20, 2011 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>PowerLoom Manual: 6. PowerLoom API</title>

<meta name="description" content="PowerLoom Manual: 6. PowerLoom API">
<meta name="keywords" content="PowerLoom Manual: 6. PowerLoom API">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.roman {font-family:serif; font-weight:normal;}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="PowerLoom-API"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="manual_5.html#Commands" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#API-Functions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="manual_5.html#Commands" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="manual.html#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="manual_7.html#Built_002dIn-Relations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="manual.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="manual_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="manual_14.html#Function-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="manual_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="PowerLoom-API-1"></a>
<h1 class="chapter">6. PowerLoom API</h1>

<p>This chapter lists functions that collectively define the PowerLoom
API.  The first section describes the API functions themselves.  The
signature is the basic Stella signature.  Information on how to
translate the names of the functions and their arguments into the
programming languages Common Lisp, C++ or Java is given in the Language
Specific Interface section.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#API-Functions">6.1 API Functions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               
</td></tr>
<tr><td align="left" valign="top"><a href="#Language-Specific-Interface">6.2 Language Specific Interface</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  
</td></tr>
</table>

<hr size="6">
<a name="API-Functions"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#PowerLoom-API" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Language-Specific-Interface" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#PowerLoom-API" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#PowerLoom-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="manual_7.html#Built_002dIn-Relations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="manual.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="manual_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="manual_14.html#Function-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="manual_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="API-Functions-1"></a>
<h2 class="section">6.1 API Functions</h2>

<p>Many of the functions take a &lsquo;module&rsquo; argument that causes the function to be
evaluated in the context of that module. Passing in a NULL value for the module
argument means that evaluation takes place in the current module. The module
argument is frequently followed by an &lsquo;environment&rsquo; argument that specifies
which inference environment should be assumed during evaluation. Values for
&lsquo;environment&rsquo; are &lsquo;ASSERTION-ENV&rsquo;, &lsquo;TAXONOMIC-ENV&rsquo;, and &lsquo;INFERENCE-ENV&rsquo;.
&lsquo;ASSERTION-ENV&rsquo; specifies that a knowledge base query or lookup should take
into account only explicitly asserted propositions. &lsquo;TAXONOMIC-ENV&rsquo; 
specifies that a knowledge base query should take into account
explicitly-asserted propositions plus any rules that specify subsumption
relationships.   &lsquo;INFERENCE-ENV&rsquo; specifies that a knowledge base query
should take all relevant propositions into account, including those
generated during forward inferencing.  A NULL value for the &lsquo;environment&rsquo;
argument defaults to &lsquo;TAXONOMIC-ENV&rsquo;.
</p>
<p>Many of the functions that take PowerLoom or Stella objects as inputs
also have an analog version whose name starts with the prefix &quot;s-&quot; that
take strings as inputs.  This is provided as a convenience so that
programmers will not necessarily need to manipulate PowerLoom objects
directly.
</p>
<dl>
<dt><a name="index-ask-1"></a><u>Function:</u> <b>ask</b><i> ((query <small>CONS</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>TRUTH-VALUE</small></i></dt>
<dd><p>Returns a truth value for <var>query</var> in <var>module</var> and <var>environment</var>.
<var>query</var> has the same syntax as the PowerLoom <code>ask</code> command (which see)
but with the <code>ask</code> operator omitted.  For example, here are some legal
<var>query</var> arguments:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">    ((happy Fred))
    ((happy Fred) :inference-level :assertion)
    ((happy Fred) :inference-level :assertion :timeout 1.0)
</pre></td></tr></table>

<p>As a convenience, a <var>query</var> argument whose first element is a symbol is
interpreted as a sentence that is queried without any options.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">    (happy Fred)
</pre></td></tr></table>

<p>is a legal <var>query</var> argument.  Note that for a sentence whose relation is a list
itself, e.g., <code>((FruitFn BananaTree) MyBanana)</code> this shortcut is not available,
that is, in that case an extra level of list nesting is always necessary.
The returned truth value represents the logical truth of the queried sentence
as determined by PowerLoom.  It can be be tested via the functions <code>is-true</code>,
<code>is-false</code> and <code>is-unknown</code> (which see).
</p></dd></dl>

<dl>
<dt><a name="index-assert_002dbinary_002dproposition"></a><u>Function:</u> <b>assert-binary-proposition</b><i> ((relation <small>LOGIC-OBJECT</small>) (arg <small>OBJECT</small>) (value <small>OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>PROPOSITION</small></i></dt>
<dd><p>Assert that the proposition (<var>relation</var> <var>arg</var> <var>value</var>) is TRUE
in <var>module</var>.  Return the asserted proposition.
</p></dd></dl>

<dl>
<dt><a name="index-assert_002dnary_002dproposition"></a><u>Function:</u> <b>assert-nary-proposition</b><i> ((relation-and-arguments <small>OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>PROPOSITION</small></i></dt>
<dd><p>Assert that the proposition represented by the list <code> relation-and-arguments</code> satisfies
the relation <code>relation</code>.
</p></dd></dl>

<dl>
<dt><a name="index-assert_002dproposition"></a><u>Function:</u> <b>assert-proposition</b><i> ((proposition <small>PROPOSITION</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>PROPOSITION</small></i></dt>
<dd><p>Assert that the proposition <var>proposition</var> is true in <var>module</var>.
Return the asserted proposition.
</p></dd></dl>

<dl>
<dt><a name="index-assert_002dunary_002dproposition"></a><u>Function:</u> <b>assert-unary-proposition</b><i> ((relation <small>LOGIC-OBJECT</small>) (arg <small>OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>PROPOSITION</small></i></dt>
<dd><p>Assert that the proposition (<var>relation</var> <var>arg</var>) is TRUE in <var>module</var>.  Return the asserted proposition.
</p></dd></dl>

<dl>
<dt><a name="index-change_002dmodule"></a><u>Function:</u> <b>change-module</b><i> ((module <small>MODULE</small>)) : <small>MODULE</small></i></dt>
<dd><p>Set the current module to <var>module</var> and return it.
If <var>module</var> is <code>null</code>, then no switch is performed and the current
module is returned.
</p></dd></dl>

<dl>
<dt><a name="index-clear_002dcaches-1"></a><u>Function:</u> <b>clear-caches</b><i> () :</i></dt>
<dd><p>Clear all query and memoization caches.
</p></dd></dl>

<dl>
<dt><a name="index-clear_002dmodule-1"></a><u>Function:</u> <b>clear-module</b><i> ((module <small>MODULE</small>)) : <small>MODULE</small></i></dt>
<dd><p>Destroy the contents of the module <var>module</var> as well as
the contents of all of its children, recursively.
</p></dd></dl>

<dl>
<dt><a name="index-conceive-1"></a><u>Function:</u> <b>conceive</b><i> ((sentence <small>OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>(PL-ITERATOR OF PROPOSITION)</small></i></dt>
<dd><p>Create one or more proposition objects from the sentence <var>sentence</var>
in the  module <var>module</var>.  Return an iterator of the propositions.
If any of the new propositions has the same structure as an already existing
proposition, an automatic check for duplicates will return the pre-existing
proposition.  Multiple propositions may be returned for a single sentence
because of normalization of equivalences, conjunctions, etc.
</p>
<p>Signals a <code>Proposition-Error</code> if PowerLoom could not conceive <var>sentence</var>.
</p></dd></dl>

<dl>
<dt><a name="index-cons_002dto_002dpl_002diterator"></a><u>Function:</u> <b>cons-to-pl-iterator</b><i> ((self <small>CONS</small>)) : <small>PL-ITERATOR</small></i></dt>
<dd><p>Convert a Stella cons list into an API iterator.
</p></dd></dl>

<dl>
<dt><a name="index-create_002dconcept"></a><u>Function:</u> <b>create-concept</b><i> ((name <small>STRING</small>) (parent <small>LOGIC-OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>LOGIC-OBJECT</small></i></dt>
<dd><p>Create a concept named <var>name</var> in the designated <var>module</var>, with the
designated <var>parent</var> superconcept (which can be left undefined).  Additional
superconcepts can be added via assertions of the <code>subset-of</code> relation.  Note
that a specified <var>parent</var> concept needs to be created separately.
</p>
<p>Note that because names in modules that are not case-sensitive are canonicalized,
the name of the returned object may not match <var>name</var> exactly.
</p></dd></dl>

<dl>
<dt><a name="index-create_002denumerated_002dlist"></a><u>Function:</u> <b>create-enumerated-list</b><i> ((members <small>CONS</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>LOGIC-OBJECT</small></i></dt>
<dd><p>Create a logical term that denotes a list containing <var>members</var> in
<var>module</var> using <var>environment</var>.  Useful for passing lists as arguments
to parameterized queries.
</p></dd></dl>

<dl>
<dt><a name="index-create_002denumerated_002dset"></a><u>Function:</u> <b>create-enumerated-set</b><i> ((members <small>CONS</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>LOGIC-OBJECT</small></i></dt>
<dd><p>Create a logical term that denotes the enumerated set containing <var>members</var>
in <var>module</var> using <var>environment</var>.
</p></dd></dl>

<dl>
<dt><a name="index-create_002dfunction"></a><u>Function:</u> <b>create-function</b><i> ((name <small>STRING</small>) (arity <small>INTEGER</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>LOGIC-OBJECT</small></i></dt>
<dd><p>Create a function named <var>name</var> with arity <var>arity</var>  in the designated 
<var>module</var>.  Domain and range information can be added via assertions of
<code>nth-domain</code> (or <code>domain</code> and <code>range</code>) relations.
</p>
<p>Note that because names in modules that are not case-sensitive are canonicalized,
the name of the returned object may not match <var>name</var> exactly.
</p></dd></dl>

<dl>
<dt><a name="index-create_002dmodule"></a><u>Function:</u> <b>create-module</b><i> ((name <small>STRING</small>) (parent <small>MODULE</small>) (case-sensitive? <small>BOOLEAN</small>)) : <small>MODULE</small></i></dt>
<dd><p>Creates a new module <var>name</var> as a child of <var>parent</var>.  The flag
<var>case-sensitive?</var> controls whether names read in this module will be
case sensitive or not.
</p></dd></dl>

<dl>
<dt><a name="index-create_002dobject"></a><u>Function:</u> <b>create-object</b><i> ((name <small>STRING</small>) (concept <small>LOGIC-OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>LOGIC-OBJECT</small></i></dt>
<dd><p>Create an object named <var>name</var> of type <var>concept</var> in the designated
module.  Both <var>name</var> and <var>concept</var> can be <code>null</code>.  If <var>name</var> is <code>null</code> then an
object will be created with a new, non-conflicting name based on the name of
<var>concept</var>, or system-generated if no concept is specified.  If <var>concept</var> is
<code>null</code>, then the object will be of type THING.  It is an error to create an
object with the same name as an existing object.
</p>
<p>Note that the string can be a qualified name, in which case the object
will be created in the module specified, but with a name as determined
by the qualified name.  Vertical bars in the name string are interpreted
as Stella escape characters.
</p>
<p>Note that because names in modules that are not case-sensitive are
canonicalized, the name of the returned object may not match <var>name</var>
exactly.
</p>
<p>Return the object.
</p></dd></dl>

<dl>
<dt><a name="index-create_002drelation"></a><u>Function:</u> <b>create-relation</b><i> ((name <small>STRING</small>) (arity <small>INTEGER</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>LOGIC-OBJECT</small></i></dt>
<dd><p>Create a relation named <var>name</var> with arity <var>arity</var> in the
designated module.  Domain and range information can be added via assertions
of <code>nth-domain</code> (or <code>domain</code> and <code>range</code>) relations.
</p>
<p>Note that because names in modules that are not case-sensitive are canonicalized,
the name of the returned object may not match <var>name</var> exactly.
</p></dd></dl>

<dl>
<dt><a name="index-destroy_002dobject"></a><u>Function:</u> <b>destroy-object</b><i> ((object <small>OBJECT</small>)) :</i></dt>
<dd><p>Delete the object <var>object</var>, retracting all facts attached to it.
</p></dd></dl>

<dl>
<dt><a name="index-empty_003f-on-PL_002dITERATOR"></a><u>Method on <small>PL-ITERATOR</small>:</u> <b>empty?</b><i> (self) : <small>BOOLEAN</small></i></dt>
<dd><p>Return TRUE if the iterator <var>self</var> has no more elements.
</p></dd></dl>

<dl>
<dt><a name="index-evaluate-1"></a><u>Function:</u> <b>evaluate</b><i> ((command <small>OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>OBJECT</small></i></dt>
<dd><p>Evaluate the command <var>command</var> within <var>module</var> and return
the result. Currently, only the evaluation of (possibly nested) commands and
global variables is supported.  Commands are simple to program in Common Lisp,
since they are built into the language, and relatively awkward in Java and C++.
Users of either of those languages are more likely to want to call <code>s-evaluate</code>.
</p></dd></dl>

<dl>
<dt><a name="index-generate_002dunique_002dname"></a><u>Function:</u> <b>generate-unique-name</b><i> ((prefix <small>STRING</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>STRING</small></i></dt>
<dd><p>Generates a name based on <var>prefix</var> with a number appended that
is not currently in use in <code>module.</code>  In a non-case-sensitive module, the returned
name will be all upper case (This latter feature may change!)
</p></dd></dl>

<dl>
<dt><a name="index-get_002darity"></a><u>Function:</u> <b>get-arity</b><i> ((relation <small>LOGIC-OBJECT</small>)) : <small>INTEGER</small></i></dt>
<dd><p>Return the arity of the relation <var>relation</var>.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dbinary_002dproposition"></a><u>Function:</u> <b>get-binary-proposition</b><i> ((relation <small>LOGIC-OBJECT</small>) (arg1 <small>OBJECT</small>) (arg2 <small>OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>PROPOSITION</small></i></dt>
<dd><p>Return a proposition such that (<var>relation</var> <var>arg1</var> <var>arg2</var>)
is true.  The <var>relation</var> argument must be bound to a relation.  One or both
of the <var>arg1</var> and <var>arg2</var> arguments may be set to NULL, which is interpreted
as a wildcard. If more than one proposition matches the input criteria,
the selection is arbitrary.  This procedure is normally applied to single-valued
relations or functions.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dbinary_002dpropositions"></a><u>Function:</u> <b>get-binary-propositions</b><i> ((relation <small>LOGIC-OBJECT</small>) (arg1 <small>OBJECT</small>) (arg2 <small>OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>(PL-ITERATOR OF PROPOSITION)</small></i></dt>
<dd><p>Return propositions such that (<var>relation</var> <var>arg1</var> <var>arg2</var>)
is true.  The <var>relation</var> argument
must be bound to a relation.  One or both of the <var>arg1</var> and <var>arg2</var> arguments
may be set to NULL, which is interpreted as a wildcard.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dchild_002dmodules"></a><u>Function:</u> <b>get-child-modules</b><i> ((module <small>MODULE</small>)) : <small>(PL-ITERATOR OF MODULE)</small></i></dt>
<dd><p>Return the modules that are immediate children of <var>module</var>.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dcolumn_002dcount"></a><u>Function:</u> <b>get-column-count</b><i> ((obj <small>OBJECT</small>)) : <small>INTEGER</small></i></dt>
<dd><p>Return the number of columns in <var>obj</var>, which must
be of type proposition, cons, vector or PL-iterator.  For a proposition,
the number includes both the predidate and arguments. For the PL-iterator
case,the number of columns is for the current value of the iterator.
</p>
<p>For a null item, the column count is zero.
For non sequence objects, the column count is one.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dconcept"></a><u>Function:</u> <b>get-concept</b><i> ((name <small>STRING</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>LOGIC-OBJECT</small></i></dt>
<dd><p>Return a class/concept named <var>name</var> that is local to
or visible from the module <var>module</var>.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dconcept_002dinstance_002dmatching_002dvalue"></a><u>Function:</u> <b>get-concept-instance-matching-value</b><i> ((concept <small>LOGIC-OBJECT</small>) (relation <small>LOGIC-OBJECT</small>) (value <small>OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>OBJECT</small></i></dt>
<dd><p>Return a member of concept <var>concept</var> that
has an attribute matching <var>value</var> for the binary relation <var>relation</var>, i.e.,
<code>(relation &lt;result&gt; value)</code> holds.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dconcept_002dinstances"></a><u>Function:</u> <b>get-concept-instances</b><i> ((concept <small>LOGIC-OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>PL-ITERATOR</small></i></dt>
<dd><p>Return instances of the concept <var>concept</var>.
Include instances of subconcepts of <var>concept</var>.  Depending on <var>concept</var>,
the return values could be (wrapped) literals.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dconcept_002dinstances_002dmatching_002dvalue"></a><u>Function:</u> <b>get-concept-instances-matching-value</b><i> ((concept <small>LOGIC-OBJECT</small>) (relation <small>LOGIC-OBJECT</small>) (value <small>OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>PL-ITERATOR</small></i></dt>
<dd><p>Return members of concept <var>concept</var> that
have an attribute matching <var>value</var> for the binary relation <var>relation</var>, i.e.,
<code>(relation &lt;result&gt; value)</code> holds.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dcurrent_002dmodule"></a><u>Function:</u> <b>get-current-module</b><i> ((environment <small>ENVIRONMENT</small>)) : <small>MODULE</small></i></dt>
<dd><p>Return the currently set module
</p></dd></dl>

<dl>
<dt><a name="index-get_002ddirect_002dconcept_002dinstances"></a><u>Function:</u> <b>get-direct-concept-instances</b><i> ((concept <small>LOGIC-OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>PL-ITERATOR</small></i></dt>
<dd><p>Return instances of concept <var>concept</var>.
Exclude instances of subconcepts of <var>concept</var>.  Depending on <var>concept</var>,
the return values could be (wrapped) literals.
</p></dd></dl>

<dl>
<dt><a name="index-get_002ddirect_002dsubrelations"></a><u>Function:</u> <b>get-direct-subrelations</b><i> ((relation <small>LOGIC-OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>(PL-ITERATOR OF LOGIC-OBJECT)</small></i></dt>
<dd><p>Return relations that directly specialize <var>relation</var>.
Non-reflexive.
</p></dd></dl>

<dl>
<dt><a name="index-get_002ddirect_002dsuperrelations"></a><u>Function:</u> <b>get-direct-superrelations</b><i> ((relation <small>LOGIC-OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>(PL-ITERATOR OF LOGIC-OBJECT)</small></i></dt>
<dd><p>Return relations that directly generalize <var>relation</var>.
Non-reflexive.
</p></dd></dl>

<dl>
<dt><a name="index-get_002ddirect_002dtypes"></a><u>Function:</u> <b>get-direct-types</b><i> ((object <small>LOGIC-OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>(PL-ITERATOR OF LOGIC-OBJECT)</small></i></dt>
<dd><p>Return most specific concepts that <var>object</var> belongs to.
</p></dd></dl>

<dl>
<dt><a name="index-get_002ddomain"></a><u>Function:</u> <b>get-domain</b><i> ((relation <small>LOGIC-OBJECT</small>)) : <small>LOGIC-OBJECT</small></i></dt>
<dd><p>Return the type (a concept) for the first argument to the binary
relation <var>relation</var>.
</p></dd></dl>

<dl>
<dt><a name="index-get_002denumerated_002dcollection_002dmembers"></a><u>Function:</u> <b>get-enumerated-collection-members</b><i> ((collection <small>OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>CONS</small></i></dt>
<dd><p>Returns the members of an enumerated collection.  This works on all types
of collection, i.e., sets and lists
</p></dd></dl>

<dl>
<dt><a name="index-get_002dhome_002dmodule"></a><u>Function:</u> <b>get-home-module</b><i> ((object <small>LOGIC-OBJECT</small>)) : <small>MODULE</small></i></dt>
<dd><p>Return the module in which <var>object</var> was created.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dinferred_002dbinary_002dproposition_002dvalues"></a><u>Function:</u> <b>get-inferred-binary-proposition-values</b><i> ((relation <small>LOGIC-OBJECT</small>) (arg <small>OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>PL-ITERATOR</small></i></dt>
<dd><p>Return all values <code>v</code> such that (<var>relation</var> <var>arg</var> <code>v</code>)
has been asserted or can be inferred.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dmodule"></a><u>Function:</u> <b>get-module</b><i> ((name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>MODULE</small></i></dt>
<dd><p>Return a module named <var>name</var>.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dmodules"></a><u>Function:</u> <b>get-modules</b><i> ((kb-modules-only? <small>BOOLEAN</small>)) : <small>(PL-ITERATOR OF MODULE)</small></i></dt>
<dd><p>Return all modules currently loaded into PowerLoom.  If <var>kb-modules-only?</var>
is <code>true</code>, then Stella modules that are used only for program code are
not included in the list.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dname"></a><u>Function:</u> <b>get-name</b><i> ((obj <small>OBJECT</small>)) : <small>STRING</small></i></dt>
<dd><p>Return the fully qualified name of <var>obj</var>, if it has one.  Otherwise return <code>null</code>.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dnth_002ddomain"></a><u>Function:</u> <b>get-nth-domain</b><i> ((relation <small>LOGIC-OBJECT</small>) (n <small>INTEGER</small>)) : <small>LOGIC-OBJECT</small></i></dt>
<dd><p>Return the type (a concept) for the the nth argument of the
relation <var>relation</var>.  Counting starts at zero.  NOTE: if there are multiple
<code>nth-domain</code> propositions for <var>relation</var>, this arbitrarily returns one of them;
it does not look for the most specific one (which might have to be created).
</p></dd></dl>

<dl>
<dt><a name="index-get_002dnth_002dfloat"></a><u>Function:</u> <b>get-nth-float</b><i> ((sequence <small>OBJECT</small>) (n <small>INTEGER</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>FLOAT</small></i></dt>
<dd><p>Return the floating point value in the <code>nth</code> column of
<var>sequence</var>. Counting starts at zero.  <var>sequence</var> must be of type
proposition, cons, vector or PL-iterator.  A zero column number returns
a proposition&rsquo;s relational predicate.  For the PL-iterator case, the
the current value pointed to by the iterator is used.  If this is not
a floating point value, then an exception will be thrown.
</p>

<p>As a special case, a column number of zero will also return the floating
point value of <var>sequence</var> itself if it is not one of the types enumerated
above.  This allows the use of <code>get-nth-float</code> on PL-iterators with only
a single return variable.    If  <var>sequence</var> cannot be turned into a floating
point value, an exception will be thrown.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dnth_002dinteger"></a><u>Function:</u> <b>get-nth-integer</b><i> ((sequence <small>OBJECT</small>) (n <small>INTEGER</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>INTEGER</small></i></dt>
<dd><p>Return an integer representation of the value in the <code>nth</code> column of
<var>sequence</var>. Counting starts at zero.   Unless <var>n</var> is zero, <var>sequence</var> must be of type
proposition, cons, vector or PL-iterator.  A zero column number returns
a proposition&rsquo;s relational predicate.  For the PL-iterator case, the
the current value pointed to by the iterator is used.  If this is not
an integer value, then an exception will be thrown.
</p>

<p>As a special case, a column number of zero will also return the integer
value of <var>sequence</var> itself if it is not one of the types enumerated
above.   This allows the use of <code>get-nth-integer</code> on PL-iterators with
only a single return variable.  If  <var>sequence</var> cannot be turned into an
integer, an exception will be thrown.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dnth_002dlogic_002dobject"></a><u>Function:</u> <b>get-nth-logic-object</b><i> ((sequence <small>OBJECT</small>) (n <small>INTEGER</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>LOGIC-OBJECT</small></i></dt>
<dd><p>Return a logic object representation of the value in the <code>nth</code> column
of <var>sequence</var>.  Counting starts at zero.   Unless <var>n</var> is zero, <var>sequence</var> must be of type
proposition, cons, vector or PL-iterator.  A zero column number returns
a proposition&rsquo;s relational predicate.  For the PL-iterator case, the
the current value pointed to by the iterator is used.  A zero column number
returns the proposition&rsquo;s relational predicate.  If the return value is
not a LOGIC-OBJECT, an exception is thrown.
</p>
<p>As a special case, a column number of zero will also return <var>sequence</var> itself
if it is not one of the types enumerated above.  This is done to allow the
use of <code>get-nth-value</code> on PL-iterators with only a single return variable.
If <var>sequence</var> is not a LOGIC-OBJECT, an exception is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dnth_002dstring"></a><u>Function:</u> <b>get-nth-string</b><i> ((sequence <small>OBJECT</small>) (n <small>INTEGER</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>STRING</small></i></dt>
<dd><p>Return a string representation of the value in the <code>nth</code> column of
<var>sequence</var>. Counting starts at zero.   Unless <var>n</var> is zero, <var>sequence</var> must be of type
proposition, cons, vector or PL-iterator.  A zero column number returns
a proposition&rsquo;s relational predicate.  For the PL-iterator case, the
the current value pointed to by the iterator is used.  This will always
succeed, even if the <code>nth</code> value is not a string object.  In that case, a
string reprensentation will be returned.
</p>

<p>As a special case, a column number of zero will also return <var>sequence</var> itself
as a string if it is not one of the types enumerated above.  This is done to 
allow the use of <code>get-nth-string</code> on PL-iterators with only a single return variable.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dnth_002dvalue"></a><u>Function:</u> <b>get-nth-value</b><i> ((sequence <small>OBJECT</small>) (n <small>INTEGER</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>OBJECT</small></i></dt>
<dd><p>Return the value in the <code>nth</code> column of <var>sequence</var>.
Counting starts at zero.  Unless <var>n</var> is zero, <var>sequence</var> must be of type
proposition, cons, vector or PL-iterator.  A zero column number returns
a proposition&rsquo;s relational predicate.  For the PL-iterator case, the number
of columns is for the current value of the iterator.
</p>
<p>As a special case, a column number of zero will also return <var>sequence</var> itself
if it is not one of the types enumerated above.  This is done to allow the
use of <code>get-nth-value</code> on PL-iterators with only a single return variable.
</p></dd></dl>

<dl>
<dt><a name="index-get_002doperator"></a><u>Function:</u> <b>get-operator</b><i> ((name <small>STRING</small>)) : <small>SYMBOL</small></i></dt>
<dd><p>Returns the logical operator object (a Stella SYMBOL) for <var>name</var>.
If no such operator exists then a <code>no-such-object</code> exception is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dobject"></a><u>Function:</u> <b>get-object</b><i> ((name <small>STRING</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>OBJECT</small></i></dt>
<dd><p>Look for an object named <var>name</var> that is local to
or visible from the module <var>module</var>.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dparent_002dmodules"></a><u>Function:</u> <b>get-parent-modules</b><i> ((module <small>MODULE</small>)) : <small>(PL-ITERATOR OF MODULE)</small></i></dt>
<dd><p>Return the modules that are immediate parents of <var>module</var>.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dpredicate"></a><u>Function:</u> <b>get-predicate</b><i> ((prop <small>PROPOSITION</small>)) : <small>LOGIC-OBJECT</small></i></dt>
<dd><p>Return the concept or relation predicate for
the proposition <var>prop</var>.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dproper_002dsubrelations"></a><u>Function:</u> <b>get-proper-subrelations</b><i> ((relation <small>LOGIC-OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>(PL-ITERATOR OF LOGIC-OBJECT)</small></i></dt>
<dd><p>Return relations that specialize <var>relation</var>.
Non-reflexive.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dproper_002dsuperrelations"></a><u>Function:</u> <b>get-proper-superrelations</b><i> ((relation <small>LOGIC-OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>(PL-ITERATOR OF LOGIC-OBJECT)</small></i></dt>
<dd><p>Return relations that generalize <var>relation</var>.
Non-reflexive.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dproposition"></a><u>Function:</u> <b>get-proposition</b><i> ((relation-and-arguments <small>OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>PROPOSITION</small></i></dt>
<dd><p>Return a proposition matching <var>relation-and-arguments</var> that
has been asserted (or inferred by forward chaining).  <var>relation-and-arguments</var>
is a sequence containing objects and nulls.  The first argument must be the
name of a relation.  A null value acts like a wild card.  If more than one 
proposition matches the input criteria, the selection among satisficing
propositions is arbitrary.  This procedure is normally applied to single-valued
relations or functions.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dpropositions"></a><u>Function:</u> <b>get-propositions</b><i> ((relation-and-arguments <small>OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>(PL-ITERATOR OF PROPOSITION)</small></i></dt>
<dd><p>Return propositions matching <var>relation-and-arguments</var> that
have been asserted (or inferred by forward chaining).  <var>relation-and-arguments</var>
is a sequence containing objects and nulls.  The first argument must be the
name of a relation.  A null value acts like a wild card.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dpropositions_002din_002dmodule"></a><u>Function:</u> <b>get-propositions-in-module</b><i> ((module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>(PL-ITERATOR OF PROPOSITION)</small></i></dt>
<dd><p>Return propositions that have been conceived in
the module <var>module</var>.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dpropositions_002dof"></a><u>Function:</u> <b>get-propositions-of</b><i> ((object <small>LOGIC-OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>(PL-ITERATOR OF PROPOSITION)</small></i></dt>
<dd><p>Return all propositions that have <var>object</var> among their arguments,
and that are TRUE in the scope of the module <var>module</var>.
</p></dd></dl>

<dl>
<dt><a name="index-get_002drange"></a><u>Function:</u> <b>get-range</b><i> ((relation <small>LOGIC-OBJECT</small>)) : <small>LOGIC-OBJECT</small></i></dt>
<dd><p>Return the type (a concept) for fillers of the binary relation
<var>relation</var>.
</p></dd></dl>

<dl>
<dt><a name="index-get_002drelation"></a><u>Function:</u> <b>get-relation</b><i> ((name <small>STRING</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>LOGIC-OBJECT</small></i></dt>
<dd><p>Return a concept or relation named <var>name</var> that is local to
or visible from the module <var>module</var>.
</p></dd></dl>

<dl>
<dt><a name="index-get_002drelation_002dextension"></a><u>Function:</u> <b>get-relation-extension</b><i> ((relation <small>LOGIC-OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>(PL-ITERATOR OF PROPOSITION)</small></i></dt>
<dd><p>Return propositions that satisfy <var>relation</var>.
Include propositions that satisfy subrelations of <var>relation</var>.
</p></dd></dl>

<dl>
<dt><a name="index-get_002drules-1"></a><u>Function:</u> <b>get-rules</b><i> ((relation <small>LOGIC-OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>(PL-ITERATOR OF PROPOSITION)</small></i></dt>
<dd><p>Return rules attached to the concept/relation <var>relation</var>
in either antecedent or consequent position.
</p></dd></dl>

<dl>
<dt><a name="index-get_002dtypes"></a><u>Function:</u> <b>get-types</b><i> ((object <small>LOGIC-OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>(PL-ITERATOR OF LOGIC-OBJECT)</small></i></dt>
<dd><p>Return all named concepts that <var>object</var> belongs to.
</p></dd></dl>

<dl>
<dt><a name="index-initialize"></a><u>Function:</u> <b>initialize</b><i> () :</i></dt>
<dd><p>Initialize the PowerLoom logic system.  This function
needs to be called by all applications before using PowerLoom.  If it
is called more than once, every call after the first one is a no-op.
</p></dd></dl>

<dl>
<dt><a name="index-is_002da"></a><u>Function:</u> <b>is-a</b><i> ((object <small>OBJECT</small>) (concept <small>LOGIC-OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>BOOLEAN</small></i></dt>
<dd><p>Return TRUE if <var>object</var> is a member of the concept <var>concept</var>.
</p></dd></dl>

<dl>
<dt><a name="index-is_002ddefault"></a><u>Function:</u> <b>is-default</b><i> ((tv <small>TRUTH-VALUE</small>)) : <small>BOOLEAN</small></i></dt>
<dd><p>Tests whether <var>tv</var> is a default truth value.
</p></dd></dl>

<dl>
<dt><a name="index-is_002denumerated_002dcollection"></a><u>Function:</u> <b>is-enumerated-collection</b><i> ((obj <small>OBJECT</small>)) : <small>BOOLEAN</small></i></dt>
<dd><p>Test whether <var>obj</var> is an enumerated collection.  This
subsumes both sets and lists.
</p></dd></dl>

<dl>
<dt><a name="index-is_002denumerated_002dlist"></a><u>Function:</u> <b>is-enumerated-list</b><i> ((obj <small>OBJECT</small>)) : <small>BOOLEAN</small></i></dt>
<dd><p>Test whether <var>obj</var> is an enumerated list
</p></dd></dl>

<dl>
<dt><a name="index-is_002denumerated_002dset"></a><u>Function:</u> <b>is-enumerated-set</b><i> ((obj <small>OBJECT</small>)) : <small>BOOLEAN</small></i></dt>
<dd><p>Test whether <var>obj</var> is an enumerated set.
</p></dd></dl>

<dl>
<dt><a name="index-is_002dfalse"></a><u>Function:</u> <b>is-false</b><i> ((tv <small>TRUTH-VALUE</small>)) : <small>BOOLEAN</small></i></dt>
<dd><p>Tests whether <var>tv</var> is a false truth value.  It can be false
either absolutely or by default.
</p></dd></dl>

<dl>
<dt><a name="index-is_002dfloat"></a><u>Function:</u> <b>is-float</b><i> ((obj <small>OBJECT</small>)) : <small>BOOLEAN</small></i></dt>
<dd><p>Test whether <var>obj</var> is of type FLOAT (double)
</p></dd></dl>

<dl>
<dt><a name="index-is_002dinconsistent"></a><u>Function:</u> <b>is-inconsistent</b><i> ((tv <small>TRUTH-VALUE</small>)) : <small>BOOLEAN</small></i></dt>
<dd><p>Tests whether <var>tv</var> is an inconsistent truth value.
</p></dd></dl>

<dl>
<dt><a name="index-is_002dinteger"></a><u>Function:</u> <b>is-integer</b><i> ((obj <small>OBJECT</small>)) : <small>BOOLEAN</small></i></dt>
<dd><p>Test whether <var>obj</var> is of type INTEGER
</p></dd></dl>

<dl>
<dt><a name="index-is_002dlogic_002dobject"></a><u>Function:</u> <b>is-logic-object</b><i> ((obj <small>OBJECT</small>)) : <small>BOOLEAN</small></i></dt>
<dd><p>Test whether <var>obj</var> is of type LOGIC-OBJECT
</p></dd></dl>

<dl>
<dt><a name="index-is_002dnumber"></a><u>Function:</u> <b>is-number</b><i> ((obj <small>OBJECT</small>)) : <small>BOOLEAN</small></i></dt>
<dd><p>Test whether <var>obj</var> is of type NUMBER.  This can
be either an integer or a floating point number.  One key characteristic
is that <code>object-to-integer</code> and <code>object-to-float</code> will both work on it.
</p></dd></dl>

<dl>
<dt><a name="index-is_002dstrict"></a><u>Function:</u> <b>is-strict</b><i> ((tv <small>TRUTH-VALUE</small>)) : <small>BOOLEAN</small></i></dt>
<dd><p>Tests whether <var>tv</var> is a strict (non-default) truth value.
</p></dd></dl>

<dl>
<dt><a name="index-is_002dstring"></a><u>Function:</u> <b>is-string</b><i> ((obj <small>OBJECT</small>)) : <small>BOOLEAN</small></i></dt>
<dd><p>Test whether <var>obj</var> is of type STRING
</p></dd></dl>

<dl>
<dt><a name="index-is_002dsubrelation"></a><u>Function:</u> <b>is-subrelation</b><i> ((sub <small>LOGIC-OBJECT</small>) (super <small>LOGIC-OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>BOOLEAN</small></i></dt>
<dd><p>Return TRUE if <var>sub</var> is a subconcept/subrelation of <var>super</var>.
</p></dd></dl>

<dl>
<dt><a name="index-is_002dtrue"></a><u>Function:</u> <b>is-true</b><i> ((tv <small>TRUTH-VALUE</small>)) : <small>BOOLEAN</small></i></dt>
<dd><p>Tests whether <var>tv</var> is a true truth value.  It can be true
either absolutely or by default.
</p></dd></dl>

<dl>
<dt><a name="index-is_002dtrue_002dbinary_002dproposition"></a><u>Function:</u> <b>is-true-binary-proposition</b><i> ((relation <small>LOGIC-OBJECT</small>) (arg <small>OBJECT</small>) (value <small>OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>BOOLEAN</small></i></dt>
<dd><p>Return TRUE if the proposition (<var>relation</var> <var>arg</var> <var>value</var>) has
been asserted (or inferred by forward chaining).
</p></dd></dl>

<dl>
<dt><a name="index-is_002dtrue_002dproposition"></a><u>Function:</u> <b>is-true-proposition</b><i> ((proposition <small>PROPOSITION</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>BOOLEAN</small></i></dt>
<dd><p>Return TRUE if <var>proposition</var> is  TRUE in the module <var>module</var>.
</p></dd></dl>

<dl>
<dt><a name="index-is_002dtrue_002dunary_002dproposition"></a><u>Function:</u> <b>is-true-unary-proposition</b><i> ((relation <small>LOGIC-OBJECT</small>) (arg <small>OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>BOOLEAN</small></i></dt>
<dd><p>Return TRUE if the proposition (<var>relation</var> <var>arg</var>) has
been asserted (or inferred by forward chaining).
</p></dd></dl>

<dl>
<dt><a name="index-is_002dunknown"></a><u>Function:</u> <b>is-unknown</b><i> ((tv <small>TRUTH-VALUE</small>)) : <small>BOOLEAN</small></i></dt>
<dd><p>Tests whether <var>tv</var> is an unknown truth value.
</p></dd></dl>

<dl>
<dt><a name="index-iterator_002dto_002dpl_002diterator"></a><u>Function:</u> <b>iterator-to-pl-iterator</b><i> ((self <small>ITERATOR</small>)) : <small>PL-ITERATOR</small></i></dt>
<dd><p>Convert an arbitrary Stella iterator into an API iterator.
</p></dd></dl>

<dl>
<dt><a name="index-length-on-PL_002dITERATOR"></a><u>Method on <small>PL-ITERATOR</small>:</u> <b>length</b><i> (self) : <small>INTEGER</small></i></dt>
<dd><p>Number of items remaining in <var>self</var>.  Non destructive.
</p></dd></dl>

<dl>
<dt><a name="index-list_002dto_002dpl_002diterator"></a><u>Function:</u> <b>list-to-pl-iterator</b><i> ((self <small>LIST</small>)) : <small>PL-ITERATOR</small></i></dt>
<dd><p>Convert a Stella list into an API iterator.
</p></dd></dl>

<dl>
<dt><a name="index-load-1"></a><u>Function:</u> <b>load</b><i> ((filename <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) :</i></dt>
<dd><p>Read logic commands from the file named <var>filename</var> and evaluate them.
The file should contain an <code>in-module</code> declaration that specifies the module
within which all remaining commands are to be evaluated.  The remaining commands
are evaluated one-by-one, applying the function <code>evaluate</code> to each of them.
</p></dd></dl>

<dl>
<dt><a name="index-load_002dstream"></a><u>Function:</u> <b>load-stream</b><i> ((stream <small>INPUT-STREAM</small>) (environment <small>ENVIRONMENT</small>)) :</i></dt>
<dd><p>Read logic commands from the STELLA stream <var>stream</var> and evaluate them.
The stream should contain an <code>in-module</code> declaration that specifies
the module within which all remaining commands are to be evaluated.
The remaining commands are evaluated one-by-one, applying the function
<code>evaluate</code> to each of them.
</p></dd></dl>

<dl>
<dt><a name="index-load_002dnative_002dstream"></a><u>Function:</u> <b>load-native-stream</b><i> ((stream <small>NATIVE-INPUT-STREAM</small>) (environment <small>ENVIRONMENT</small>)) :</i></dt>
<dd><p>Read logic commands from the native input stream <var>stream</var> and evaluate them.
Assumes <var>stream</var> is a line-buffered stream which is a safe compromise but does
not generate the best efficiency for block-buffered streams such as files.
The stream should begin with an <code>in-module</code> declaration that specifies
the module within which all remaining commands are to be evaluated
The remaining commands are evaluated one-by-one, applying the function
<code>evaluate</code> to each of them.
</p></dd></dl>

<dl>
<dt><a name="index-next_003f-on-PL_002dITERATOR"></a><u>Method on <small>PL-ITERATOR</small>:</u> <b>next?</b><i> (self) : <small>BOOLEAN</small></i></dt>
<dd><p>Advance the PL-Iterator <var>self</var> and return <code>true</code> if more
elements are available, <code>false</code> otherwise.
</p></dd></dl>

<dl>
<dt><a name="index-object_002dto_002dfloat"></a><u>Function:</u> <b>object-to-float</b><i> ((self <small>OBJECT</small>)) : <small>FLOAT</small></i></dt>
<dd><p>Coerce <var>self</var> to a float, or throw a Stella Exception if the coersion is not feasible.
</p></dd></dl>

<dl>
<dt><a name="index-object_002dto_002dinteger"></a><u>Function:</u> <b>object-to-integer</b><i> ((self <small>OBJECT</small>)) : <small>INTEGER</small></i></dt>
<dd><p>Coerce <var>self</var> to an integer, or throw a Stella Exception if the coersion is not feasible.
Floating point values will be coerced by rounding.
</p></dd></dl>

<dl>
<dt><a name="index-object_002dto_002dparsable_002dstring"></a><u>Function:</u> <b>object-to-parsable-string</b><i> ((self <small>OBJECT</small>)) : <small>STRING</small></i></dt>
<dd><p>Return a string representing a printed
representation of the object <var>self</var>.  Like <code>object-to-string</code>, but puts
escaped double quotes around strings.
</p></dd></dl>

<dl>
<dt><a name="index-object_002dto_002dstring"></a><u>Function:</u> <b>object-to-string</b><i> ((self <small>OBJECT</small>)) : <small>STRING</small></i></dt>
<dd><p>Return a printed representation of the term <var>self</var> as a string.
</p></dd></dl>

<dl>
<dt><a name="index-print_002drules-1"></a><u>N-Command:</u> <b>print-rules</b><i> ((relation <small>OBJECT</small>)) :</i></dt>
<dd><p>Print the list of true rules associated with <var>relation</var>.
</p></dd></dl>

<dl>
<dt><a name="index-reset_002dpowerloom-1"></a><u>Function:</u> <b>reset-powerloom</b><i> () :</i></dt>
<dd><p>Reset PowerLoom to its initial state.
CAUTION: This will destroy all loaded knowledge bases and might break other
loaded STELLA systems if they do reference PowerLoom symbols in their code.
</p></dd></dl>

<dl>
<dt><a name="index-retract-1"></a><u>N-Command:</u> <b>retract</b><i> ((proposition <small>PARSE-TREE</small>)) : <small>OBJECT</small></i></dt>
<dd><p>Retract the truth of <var>proposition</var>.  Return the retracted proposition
object.  KIF example:  &quot;(retract (happy Fred))&quot; retracts that Fred is
happy.  Note that for this assertion to succeed, the relation <code>happy</code> must already
be defined.  If the constant <code>Fred</code> has not yet been created, it is
automatically created as a side-effect of calling <code>retract</code>.
</p></dd></dl>

<dl>
<dt><a name="index-retract_002dbinary_002dproposition"></a><u>Function:</u> <b>retract-binary-proposition</b><i> ((relation <small>LOGIC-OBJECT</small>) (arg <small>OBJECT</small>) (value <small>OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>PROPOSITION</small></i></dt>
<dd><p>Retract that the proposition (<var>relation</var> <var>arg</var> <var>value</var>) is TRUE
in <var>module</var>.  Return the asserted proposition.
</p></dd></dl>

<dl>
<dt><a name="index-retract_002dnary_002dproposition"></a><u>Function:</u> <b>retract-nary-proposition</b><i> ((relation-and-arguments <small>OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>PROPOSITION</small></i></dt>
<dd><p>Retract the proposition that <code>arguments</code> satisfies
the relation <code>relation</code>.
</p></dd></dl>

<dl>
<dt><a name="index-retract_002dproposition"></a><u>Function:</u> <b>retract-proposition</b><i> ((proposition <small>PROPOSITION</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>PROPOSITION</small></i></dt>
<dd><p>Retract the truth of the proposition <var>proposition</var> in <var>module</var>.
Return the retracted proposition.
</p></dd></dl>

<dl>
<dt><a name="index-retract_002dunary_002dproposition"></a><u>Function:</u> <b>retract-unary-proposition</b><i> ((relation <small>LOGIC-OBJECT</small>) (arg <small>OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>PROPOSITION</small></i></dt>
<dd><p>Retract that the proposition (<var>relation</var> <var>arg</var>) is TRUE in <var>module</var>.  Return the asserted proposition.
</p></dd></dl>

<dl>
<dt><a name="index-retrieve-1"></a><u>Function:</u> <b>retrieve</b><i> ((query <small>CONS</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>PL-ITERATOR</small></i></dt>
<dd><p>Returns an iterator of variable bindings that when substituted for the
open variables in <var>query</var> satisfy the query proposition.  The query is
run in <var>module</var> and relative to <var>environment</var>.  <var>query</var> has the same syntax
as the PowerLoom <code>retrieve</code> command (which see) but with the <code>retrieve</code>
operator omitted.    For example, here are some legal <var>query</var> arguments:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">    ((happy ?x))
    (10 (happy ?x))
    (all (happy ?x))
    (all ?x (happy ?x))
    (10 (happy ?x) :inference-level :assertion)
    (10 (happy ?x) :inference-level :assertion :timeout 1.0)
</pre></td></tr></table>

<p>If there is only a single output variable (as in all the examples above)
each element generated by the returned iterator will be a binding for
that variable - unless, the output variable was declared with a surrounding
pair of parentheses.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">    (all (?x) (happy ?x))
</pre></td></tr></table>

<p>In that case, the generated elements will be one-element lists.  If there
are multiple output variables, each element generated by the returned
iterator will be a list of variable bindings that can be accessed using
the various <code>get-nth-...</code> functions.  The list of output variables does
not need to be declared in which case they are taken to be the open variables
in the query proposition in the order in which they were encountered.  If
order does matter or should be different from its default, it can be forced
by declaring the set of output variables.
</p></dd></dl>

<dl>
<dt><a name="index-run_002dforward_002drules"></a><u>Function:</u> <b>run-forward-rules</b><i> ((module <small>OBJECT</small>) (force? <small>BOOLEAN</small>)) :</i></dt>
<dd><p>Run forward inference rules in module <var>module</var>.
If <var>module</var> is NULL, the
current module will be used.  If forward inferencing is already up-to-date
in the designated module, no additional inferencing will occur, unless <code>force</code>
is set to TRUE, in which case all forward rules are run or rerun.
</p>
<p>Calling <code>run-forward-rules</code> temporarily puts the module into a mode where
future assertional (monotonic) updates will trigger additional forward
inference.  Once a non-monotonic update is performed, i.e., a retraction
or clipping of relation value, all cached forward inferences will be discarded
and forward inferencing will be disabled until this function is
called again.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dask"></a><u>Function:</u> <b>s-ask</b><i> ((query <small>STRING</small>) (module-name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>TRUTH-VALUE</small></i></dt>
<dd><p>Returns a truth value for <var>query</var> in module <var>module-name</var> and <var>environment</var>.
<var>query</var> has the same syntax as the PowerLoom <code>ask</code> command (which see) but
with the <code>ask</code> operator omitted.  Different from the PLI <code>ask</code> function, <code>s-ask</code>
does not expect a top-level pair of parentheses.  For example, here are some legal
<var>query</var> arguments:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">    &quot;(happy Fred)&quot;
    &quot;(happy Fred) :inference-level :assertion&quot;
    &quot;(happy Fred) :inference-level :assertion :timeout 1.0&quot;
</pre></td></tr></table>

<p>Names in <var>query</var> will be interpreted relative to module <var>module-name</var>.
A null <var>module-name</var> or the empty string refers to the current module.
If no module can be found with the name <var>module-name</var>, then a STELLA
<code>no-such-context-exception</code> is thrown.
The returned truth value represents the logical truth of the queried sentence
as determined by PowerLoom.  It can be be tested via the functions <code>is-true</code>,
<code>is-false</code> and <code>is-unknown</code> (which see).
</p></dd></dl>

<dl>
<dt><a name="index-s_002dassert_002dproposition"></a><u>Function:</u> <b>s-assert-proposition</b><i> ((sentence <small>STRING</small>) (module-name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>(PL-ITERATOR OF PROPOSITION)</small></i></dt>
<dd><p>Assert that the logical sentence <var>sentence</var> is true in the module
named <var>module-name</var>.  A module name of <code>null</code> or the empty string refers to the
current module.  If no module can be found with the name <var>module-name</var>,
then a Stella <code>no-such-context-exception</code> is thrown.
</p>
<p>Return an iterator of the propositions resulting from sentence.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dchange_002dmodule"></a><u>Function:</u> <b>s-change-module</b><i> ((name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>MODULE</small></i></dt>
<dd><p>Set the current module to the module named <var>name</var>.
The return value is the module named <var>name</var> unless <var>name</var> is null or
the empty string.  In that case, the current module is returned.
If no module named <var>name</var> exists, a Stella <code>no-such-context-exception</code>
is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dclear_002dmodule"></a><u>Function:</u> <b>s-clear-module</b><i> ((name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>MODULE</small></i></dt>
<dd><p>Destroy the contents of the module named <var>name</var>, as
well as the contents of all of its children, recursively.  If no module
named <var>name</var> exists, a Stella <code>no-such-context-exception</code> is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dconceive"></a><u>Function:</u> <b>s-conceive</b><i> ((sentence <small>STRING</small>) (module-name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>(PL-ITERATOR OF PROPOSITION)</small></i></dt>
<dd><p>Create one or more proposition objects from the sentence <var>sentence</var>
in the  module named <var>module-name</var>.  Return an iterator of the propositions.
If any of the new propositions has the same structure as an already existing
proposition, an automatic check for duplicates will return the pre-existing
proposition.  Multiple propositions may be returned for a single sentence
because of normalization of equivalences, conjunctions, etc.
</p>
<p>A module name of <code>null</code> or the empty string refers to the current module.
If no module can be found with the name <var>module-name</var>, then a Stella
<code>No-Such-Context-Exception</code> is thrown.
</p>
<p>Signals a <code>Proposition-Error</code> if PowerLoom could not conceive <var>sentence</var>.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dcreate_002dconcept"></a><u>Function:</u> <b>s-create-concept</b><i> ((name <small>STRING</small>) (parent-name <small>STRING</small>) (module-name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>LOGIC-OBJECT</small></i></dt>
<dd><p>Create a concept named <var>name</var> in the designated module, with
with the concept named <var>parent-name</var> as superconcept (which can be left
undefined).  Additional superconcepts can be added via assertions of the
<code>subset-of</code> relation.  Note that a specified parent concept needs to be
created separately.
</p>
<p>A module name of <code>null</code> or the empty string refers to the current module. 
If no module can be found with the name <var>module-name</var>, then a Stella 
<code>no-such-context-exception</code> is thrown.
</p>
<p>Note that because names in modules that are not case-sensitive are canonicalized,
the name of the returned object may not match <var>name</var> exactly.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dcreate_002dfunction"></a><u>Function:</u> <b>s-create-function</b><i> ((name <small>STRING</small>) (arity <small>INTEGER</small>) (module-name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>LOGIC-OBJECT</small></i></dt>
<dd><p>Create a function named <var>name</var> with arity <var>arity</var> in the designated 
module.  Domain and range information can be added via assertions of
<code>domain</code>, <code>nth-domain</code> and <code>range</code> relations.
</p>
<p>A module name of <code>null</code> or the empty string refers to the current module. 
If no module can be found with the name <var>module-name</var>, then a Stella 
<code>no-such-context-exception</code> is thrown.
</p>
<p>Note that because names in modules that are not case-sensitive are canonicalized,
the name of the returned object may not match <var>name</var> exactly.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dcreate_002dobject"></a><u>Function:</u> <b>s-create-object</b><i> ((name <small>STRING</small>) (concept-name <small>STRING</small>) (module-name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>LOGIC-OBJECT</small></i></dt>
<dd><p>Create an object named <var>name</var> of type <var>concept-name</var> in the designated
module.  Both <var>name</var> and <var>concept-name</var> can be null strings.  If <var>name</var> is a null string
then an object will be created with a new, non-conflicting name based on <var>concept-name</var>, or
system-generated if no concept nameis specified.  If <var>concept-name</var> is the null string, then
the object will be of type THING.
</p>
<p>A module name of <code>null</code> or the empty string refers to the current module. 
If no module can be found with the name <var>module-name</var>, then a Stella 
<code>no-such-context-exception</code> is thrown.
</p>
<p>Note that because names in modules that are not case-sensitive are canonicalized,
the name of the returned object may not match <var>name</var> exactly.
</p>
<p>Return the object.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dcreate_002dmodule"></a><u>Function:</u> <b>s-create-module</b><i> ((name <small>STRING</small>) (parent-name <small>STRING</small>) (case-sensitive? <small>BOOLEAN</small>) (environment <small>ENVIRONMENT</small>)) : <small>MODULE</small></i></dt>
<dd><p>Creates a new module <var>name</var> as a child of <var>parent-name</var>.  The flag
<var>case-sensitive?</var> controls whether names read in this module will be
case sensitive or not.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dcreate_002drelation"></a><u>Function:</u> <b>s-create-relation</b><i> ((name <small>STRING</small>) (arity <small>INTEGER</small>) (module-name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>LOGIC-OBJECT</small></i></dt>
<dd><p>Create a relation named <var>name</var> with arity <var>arity</var> in the
designated module.  Domain and range information can be added via assertions
of <code>nth-domain</code> (or <code>domain</code> and <code>range</code>) relations.
</p>
<p>A module name of <code>null</code> or the empty string refers to the current module. 
If no module can be found with the name <var>module-name</var>, then a Stella 
<code>no-such-context-exception</code> is thrown.
</p>
<p>Note that because names in modules that are not case-sensitive are canonicalized,
the name of the returned object may not match <var>name</var> exactly.
</p></dd></dl>

<dl>
<dt><a name="index-s_002ddestroy_002dobject"></a><u>Function:</u> <b>s-destroy-object</b><i> ((object-name <small>STRING</small>) (module-name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) :</i></dt>
<dd><p>Delete the object named <var>object-name</var>, retracting all facts
attached to it.
</p>
<p>A module name of <code>null</code> or the empty string refers to the current module. 
If no module can be found with the name <var>module-name</var>, then a Stella 
<code>no-such-context-exception</code> is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-s_002devaluate"></a><u>Function:</u> <b>s-evaluate</b><i> ((command <small>STRING</small>) (module-name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>OBJECT</small></i></dt>
<dd><p>Evaluate the command represented by the string <var>command</var> within <code>module</code> and
return the result.  Currently, only the evaluation of (possibly nested) commands and
global variables is supported.
</p>
<p> A module name of <code>null</code> or the empty string refers to the
current module.  If no module can be found with the name <var>module-name</var>,
then a Stella <code>no-such-context-exception</code> is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dget_002darity"></a><u>Function:</u> <b>s-get-arity</b><i> ((relation-name <small>STRING</small>) (module-name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>INTEGER</small></i></dt>
<dd><p>Return the arity of the relation named <var>relation-name</var>.
</p>
<p> A module name of <code>null</code> or the empty string refers to the
current module.  If no module can be found with the name <var>module-name</var>,
then a Stella <code>no-such-context-exception</code> is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dget_002dchild_002dmodules"></a><u>Function:</u> <b>s-get-child-modules</b><i> ((name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>(PL-ITERATOR OF MODULE)</small></i></dt>
<dd><p>Return the modules that are immediate children of module <var>name</var>.
If no module named <var>name</var> exists, a Stella <code>no-such-context-exception</code>
is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dget_002dconcept"></a><u>Function:</u> <b>s-get-concept</b><i> ((name <small>STRING</small>) (module-name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>LOGIC-OBJECT</small></i></dt>
<dd><p>Return a class/concept named <var>name</var> that is local to
or visible from the module <var>module-name</var>.  A module name of <code>null</code> or the
empty string refers to the current module.  If no module can be found
with the name <var>module-name</var>, then a Stella <code>no-such-context-exception</code> is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dget_002dconcept_002dinstances"></a><u>Function:</u> <b>s-get-concept-instances</b><i> ((concept-name <small>STRING</small>) (module-name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>PL-ITERATOR</small></i></dt>
<dd><p>Return instances of concept <var>concept-name</var>.
Include instances of subconcepts of <var>concept-name</var>.  Depending on <var>concept-name</var>,
the return values could be (wrapped) literals.
</p>
<p>A module name of <code>null</code> or the empty string refers to the current module. 
If no module can be found with the name <var>module-name</var>, then a Stella 
<code>no-such-context-exception</code> is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dget_002ddirect_002dconcept_002dinstances"></a><u>Function:</u> <b>s-get-direct-concept-instances</b><i> ((concept-name <small>STRING</small>) (module-name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>PL-ITERATOR</small></i></dt>
<dd><p>Return instances of concept <var>concept-name</var>.
Exclude instances of subconcepts of <var>concept-name</var>.  Depending on <var>concept-name</var>,
the return values could be (wrapped) literals.
</p>
<p>A module name of <code>null</code> or the empty string refers to the current module. 
If no module can be found with the name <var>module-name</var>, then a Stella 
<code>no-such-context-exception</code> is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dget_002ddomain"></a><u>Function:</u> <b>s-get-domain</b><i> ((relation-name <small>STRING</small>) (module-name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>LOGIC-OBJECT</small></i></dt>
<dd><p>Return the type (concept) for the first argument to the binary
relation <var>relation-name</var>.
</p>
<p>A module name of <code>null</code> or the empty string refers to the
current module.  If no module can be found with the name <var>module-name</var>,
then a Stella <code>no-such-context-exception</code> is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dget_002dinferred_002dbinary_002dproposition_002dvalues"></a><u>Function:</u> <b>s-get-inferred-binary-proposition-values</b><i> ((relation-name <small>STRING</small>) (arg-name <small>STRING</small>) (module-name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>PL-ITERATOR</small></i></dt>
<dd><p>Return all values <code>v</code> such that (<var>relation-name</var> <var>arg-name</var> <code>v</code>)
has been asserted or can be inferred.
</p>
<p>A module name of <code>null</code> or the empty string refers to the current module. 
If no module can be found with the name <var>module-name</var>, then a Stella 
<code>no-such-context-exception</code> is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dget_002dnth_002ddomain"></a><u>Function:</u> <b>s-get-nth-domain</b><i> ((relation-name <small>STRING</small>) (n <small>INTEGER</small>) (module-name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>LOGIC-OBJECT</small></i></dt>
<dd><p>Return the type (a concept) for the nth argument of the relation
named <var>relation-name</var>.  Counting starts at zero.
</p>
<p>A module name of <code>null</code> or the empty string refers to the
current module.  If no module can be found with the name <var>module-name</var>,
then a Stella <code>no-such-context-exception</code> is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dget_002dobject"></a><u>Function:</u> <b>s-get-object</b><i> ((name <small>STRING</small>) (module-name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>OBJECT</small></i></dt>
<dd><p>Look for an object named <var>name</var> that is local to
or visible from the module <var>module-name</var>.  A module name of <code>null</code> or the
empty string refers to the current module.  If no module can be found
with the name <var>module-name</var>, then a Stella <code>no-such-context-exception</code> is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dget_002dparent_002dmodules"></a><u>Function:</u> <b>s-get-parent-modules</b><i> ((name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>(PL-ITERATOR OF MODULE)</small></i></dt>
<dd><p>Return the modules that are immediate parents of module <var>name</var>.
If no module named <var>name</var> exists, a Stella <code>no-such-context-exception</code>
is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dget_002dparent_002dmodules-1"></a><u>Function:</u> <b>s-get-parent-modules</b><i> ((name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>(PL-ITERATOR OF MODULE)</small></i></dt>
<dd><p>Return the modules that are immediate parents of module <var>name</var>.
If no module named <var>name</var> exists, a Stella <code>no-such-context-exception</code>
is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dget_002dproposition"></a><u>Function:</u> <b>s-get-proposition</b><i> ((relation-and-arguments <small>STRING</small>) (module-name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>PROPOSITION</small></i></dt>
<dd><p>Return a proposition matching <var>relation-and-arguments</var> that
has been asserted (or inferred by forward chaining).  <var>relation-and-arguments</var>
is a string that begins with a left parenthesis, followed by a relation name, 
one or more argument identifiers, and terminated by a right parenthesis.  Each
argument identifier can be the name of a logical constant, a literal
reference (e.g., a number), the null identifier, or a variable (an identifier that begins
with a question mark). Each occurrence of a null or a variable acts like a wild card.
If more than one proposition matches the input criteria, the selection among
satisficing propositions is arbitrary.  This procedure is normally applied to
single-valued relations or functions.
</p>
<p>A module name of <code>null</code> or the
empty string refers to the current module.  If no module can be found
with the name <var>module-name</var>, then a Stella <code>no-such-context-exception</code> is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dget_002dpropositions"></a><u>Function:</u> <b>s-get-propositions</b><i> ((relation-and-arguments <small>STRING</small>) (module-name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>(PL-ITERATOR OF PROPOSITION)</small></i></dt>
<dd><p>Return propositions matching <var>relation-and-arguments</var> that
have been asserted (or inferred by forward chaining).  <var>relation-and-arguments</var>
is a string that begins with a left parenthesis, followed by a relation name, 
one or more argument identifiers, and terminated by a right parenthesis.  Each
argument identifier can be the name of a logical constant, a literal 
reference (e.g., a number), the null identifier, or a variable (an identifier that begins
with a question mark). Each occurrence of a null or a variable acts like a wild card.
</p>
<p>A module name of <code>null</code> or the
empty string refers to the current module.  If no module can be found
with the name <var>module-name</var>, then a Stella <code>no-such-context-exception</code> is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dget_002dpropositions_002dof"></a><u>Function:</u> <b>s-get-propositions-of</b><i> ((object-name <small>STRING</small>) (module-name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>(PL-ITERATOR OF PROPOSITION)</small></i></dt>
<dd><p>Return all propositions that have the object named <var>object-name</var> among
their arguments, and that are TRUE in the scope of the module <var>module-name</var>.
A module name of <code>null</code> or the empty string refers to the current module. 
If no module can be found with the name <var>module-name</var>, then a Stella 
<code>no-such-context-exception</code> is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dget_002drange"></a><u>Function:</u> <b>s-get-range</b><i> ((relation-name <small>STRING</small>) (module-name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>LOGIC-OBJECT</small></i></dt>
<dd><p>Return the type (a concept) for fillers of the binary relation
<var>relation-name</var>.
</p>
<p>A module name of <code>null</code> or the empty string refers to the
current module.  If no module can be found with the name <var>module-name</var>,
then a Stella <code>no-such-context-exception</code> is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dget_002drelation"></a><u>Function:</u> <b>s-get-relation</b><i> ((name <small>STRING</small>) (module-name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>LOGIC-OBJECT</small></i></dt>
<dd><p>Return a concept or relation named <var>name</var> that is local to
or visible from the module <var>module-name</var>.  A module name of <code>null</code> or the
empty string refers to the current module.  If no module can be found
with the name <var>module-name</var>, then a Stella <code>no-such-context-exception</code> is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dget_002drelation_002dextension"></a><u>Function:</u> <b>s-get-relation-extension</b><i> ((relation-name <small>STRING</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>(PL-ITERATOR OF PROPOSITION)</small></i></dt>
<dd><p>Return propositions that satisfy the relation named
<var>relation-name</var>.  Include propositions that satisfy subrelations of the relation.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dget_002drules"></a><u>Function:</u> <b>s-get-rules</b><i> ((relation-name <small>STRING</small>) (module-name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>(PL-ITERATOR OF PROPOSITION)</small></i></dt>
<dd><p>Return rules attached to the concept/relation named
<var>relation-name</var> found in the module named <var>module-name</var>.
</p>
<p>A module name of <code>null</code> or the empty string refers to the current module.
If no module can be found with the name <var>module-name</var>, then a Stella
<code>No-Such-Context-Exception</code> is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dis_002dtrue_002dproposition"></a><u>Function:</u> <b>s-is-true-proposition</b><i> ((relation-and-arguments <small>STRING</small>) (module-name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>BOOLEAN</small></i></dt>
<dd><p>Return TRUE if a proposition that prints as the string
<var>relation-and-arguments</var> is true in the module named <var>module-name</var>.
A module name of <code>null</code> or the empty string refers to the current module. 
If no module can be found with the name <var>module-name</var>, then a Stella 
<code>no-such-context-exception</code> is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dprint_002drules"></a><u>Function:</u> <b>s-print-rules</b><i> ((name <small>STRING</small>) (stream <small>OUTPUT-STREAM</small>) (module-name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) :</i></dt>
<dd><p>Print rules attached to the concept/relation named <var>name</var>.
</p>
<p>A module name of <code>null</code> or the empty string refers to the
current module.  If no module can be found with the name <var>module-name</var>,
then a Stella <code>no-such-context-exception</code> is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dretract_002dproposition"></a><u>Function:</u> <b>s-retract-proposition</b><i> ((sentence <small>STRING</small>) (module-name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>(PL-ITERATOR OF PROPOSITION)</small></i></dt>
<dd><p>Retract the truth of the logical sentence <var>sentence</var> in the module named
<var>module-name</var>.  A module name of <code>null</code> or the empty string refers to the
current module.  If no module can be found with the name <var>module-name</var>,
then a Stella <code>no-such-context-exception</code> is thrown.
</p>
<p>Return an iterator of the retracted propositions resulting from sentence.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dretrieve"></a><u>Function:</u> <b>s-retrieve</b><i> ((query <small>STRING</small>) (module-name <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) : <small>PL-ITERATOR</small></i></dt>
<dd><p>Returns an iterator of variable bindings that when substituted for the
open variables in <var>query</var> satisfy the query proposition.  The query is
run in <code>module</code> and relative to <var>environment</var>.  <var>query</var> has the same syntax
as the PowerLoom <code>retrieve</code> command (which see) but with the <code>retrieve</code>
operator omitted.  Different from the PLI <code>retrieve</code> function, <code>s-retrieve</code>
does not expect a top-level pair of parentheses.  For example, here are some
legal <var>query</var> arguments:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">    &quot;(happy ?x)&quot;
    &quot;10 (happy ?x)&quot;
    &quot;all (happy ?x)&quot;
    &quot;all ?x (happy ?x)&quot;
    &quot;10 (happy ?x) :inference-level :assertion&quot;
    &quot;10 (happy ?x) :inference-level :assertion :timeout 1.0&quot;
</pre></td></tr></table>

<p>If there is only a single output variable (as in all the examples above)
each element generated by the returned iterator will be a binding for
that variable - unless, the output variable was declared with a surrounding
pair of parentheses.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">    &quot;all (?x) (happy ?x)&quot;
</pre></td></tr></table>

<p>In that case, the generated elements will be one-element lists.  If there
are multiple output variables, each element generated by the returned
iterator will be a list of variable bindings that can be accessed using
the various <code>get-nth-...</code> functions.  The list of output variables does
not need to be declared in which case they are taken to be the open variables
in the query proposition in the order in which they were encountered.  If
order does matter or should be different from its default, it can be forced
by declaring the set of output variables.
</p>
<p>Names in <var>query</var> will be interpreted relative to module <var>module-name</var>.
A null <var>module-name</var> or the empty string refers to the current module.
If no module can be found with the name <var>module-name</var>, then a STELLA
<code>no-such-context-exception</code> is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-s_002dsave_002dmodule"></a><u>Function:</u> <b>s-save-module</b><i> ((module-name <small>STRING</small>) (filename <small>STRING</small>) (ifexists <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) :</i></dt>
<dd><p>Save the contents of the module <var>module-name</var> into a file named <var>filename</var>.
If a file named <var>filename</var> already exists, then the action taken depends on the
value of <var>ifexists</var>.  Possible values are &quot;ASK&quot;, &quot;REPLACE&quot;, &quot;WARN&quot; and &quot;ERROR&quot;:
</p>
<p>  REPLACE =&gt; Means overwrite without warning.
  WARN    =&gt; Means overwrite with a warning.
  ERROR   =&gt; Means don&rsquo;t overwrite, signal an error instead.
  ASK     =&gt; Ask the user whether to overwrite or not.  If not overwritten, an
             exception is thrown.
</p>
<p>A module name of <code>null</code> or the empty string refers to the
current module.  If no module can be found with the name <var>module-name</var>,
then a Stella <code>no-such-context-exception</code> is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-save_002dmodule-1"></a><u>Function:</u> <b>save-module</b><i> ((module <small>MODULE</small>) (filename <small>STRING</small>) (ifexists <small>STRING</small>) (environment <small>ENVIRONMENT</small>)) :</i></dt>
<dd><p>Save the contents of the module <code>mod</code> into a file named <var>filename</var>.
If a file named <var>filename</var> already exists, then the action taken depends on the
value of <var>ifexists</var>.  Possible values are &quot;ASK&quot;, &quot;REPLACE&quot;, &quot;WARN&quot; and &quot;ERROR&quot;:
</p>
<p>  REPLACE =&gt; Means overwrite without warning.
  WARN    =&gt; Means overwrite with a warning.
  ERROR   =&gt; Means don&rsquo;t overwrite, signal an error instead.
  ASK     =&gt; Ask the user whether to overwrite or not.  If not overwritten, an 
             exception is thrown.
</p></dd></dl>

<dl>
<dt><a name="index-string_002dto_002dobject"></a><u>Function:</u> <b>string-to-object</b><i> ((string <small>STRING</small>) (type <small>LOGIC-OBJECT</small>) (module <small>MODULE</small>) (environment <small>ENVIRONMENT</small>)) : <small>OBJECT</small></i></dt>
<dd><p>Evaluate <var>string</var> with respect to <var>module</var> and <var>environment</var>
and return the corresponding logical term.  <var>type</var> is a concept used to assist the
correct interpretation of <var>string</var>.
</p>
<p>Currently <var>type</var> only has an effect on the interpretation of literal types.
</p></dd></dl>



<hr size="6">
<a name="Language-Specific-Interface"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#API-Functions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Lisp-API" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#PowerLoom-API" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#PowerLoom-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="manual_7.html#Built_002dIn-Relations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="manual.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="manual_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="manual_14.html#Function-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="manual_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Language-Specific-Interface-1"></a>
<h2 class="section">6.2 Language Specific Interface</h2>

<p>This section contains the description of the programming language
specific aspects of using the PowerLoom API.  Each section describes the 
naming conventions and namespace issues related to calling the API
functions from that programming language.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Lisp-API">6.2.1 Lisp API</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                    
</td></tr>
<tr><td align="left" valign="top"><a href="#C_002b_002b-API">6.2.2 C++ API</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     
</td></tr>
<tr><td align="left" valign="top"><a href="#Java-API">6.2.3 Java API</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                    
</td></tr>
</table>

<hr size="6">
<a name="Lisp-API"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Language-Specific-Interface" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Initialization" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#PowerLoom-API" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Language-Specific-Interface" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="manual_7.html#Built_002dIn-Relations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="manual.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="manual_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="manual_14.html#Function-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="manual_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Lisp-API-1"></a>
<h3 class="subsection">6.2.1 Lisp API</h3>

<p>This section tells how to call the API functions in PowerLoom&rsquo;s Common
Lisp implementation from a Lisp program.  The function names are
identical to the Stella names in the PowerLoom API description
See section <a href="#PowerLoom-API">PowerLoom API</a>.  They are exported from the <code>PLI</code> package.
Other Stella symbols and names are in the <code>STELLA</code> package, but
<strong>currently none of the Stella symbols are exported!</strong>.
</p>
<p>PowerLoom can be used from Allegro Common Lisp, CMU Common Lisp,
LispWorks Common Lisp and Macintosh Common Lisp.  It may be possible to
use the system from other Common Lisp systems, but they have not been
tested.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Initialization">6.2.1.1 Common Lisp Initialization</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              
</td></tr>
<tr><td align="left" valign="top"><a href="#Type-Declarations">6.2.1.2 Type Declarations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           
</td></tr>
<tr><td align="left" valign="top"><a href="#NULL-Values">6.2.1.3 NULL values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 
</td></tr>
<tr><td align="left" valign="top"><a href="#Wrapped-Literal-Values">6.2.1.4 Wrapped Literal Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      
</td></tr>
<tr><td align="left" valign="top"><a href="#Special-Variables">6.2.1.5 Special Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           
</td></tr>
<tr><td align="left" valign="top"><a href="#CLOS-Objects-versus-Structs">6.2.1.6 CLOS Objects versus Structs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  
</td></tr>
</table>

<hr size="6">
<a name="Initialization"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Lisp-API" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Type-Declarations" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#PowerLoom-API" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Lisp-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="manual_7.html#Built_002dIn-Relations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="manual.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="manual_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="manual_14.html#Function-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="manual_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Common-Lisp-Initialization"></a>
<h4 class="subsubsection">6.2.1.1 Common Lisp Initialization</h4>

<p>Loading the Common Lisp version of PowerLoom will normally initialize
the system as part of the loading process.  The Common Lisp version can
be loaded by loading the file &lsquo;<tt>load-powerloom.lisp</tt>&rsquo; from the
top-level &lsquo;<tt>powerloom</tt>&rsquo; directory.  This will make the system
available for use.
</p>
<hr size="6">
<a name="Type-Declarations"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Initialization" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#NULL-Values" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#PowerLoom-API" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Lisp-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="manual_7.html#Built_002dIn-Relations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="manual.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="manual_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="manual_14.html#Function-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="manual_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Type-Declarations-1"></a>
<h4 class="subsubsection">6.2.1.2 Type Declarations</h4>

<p>Stella is a typed language, and the Common Lisp translation uses the
type information for Common Lisp type declarations.  That means that
values specified as being of type INTEGER, STRING and FLOAT must have
the correct type.  In particular, integer values will not be coerced to
floating point values by the code.  The following native type
assignments are made:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">    Stella      Common Lisp
    =======     ===========
    INTEGER     FIXNUM
    FLOAT       DOUBLE-FLOAT
    STRING      SIMPLE-STRING
</pre></td></tr></table>

<p><strong>For convenience, loading PowerLoom will set the default format for
reading floating point numbers in Common Lisp to be <code>double-float</code>.</strong>
</p>
<p>Stella <code>CONS</code> objects are implmented as native Lisp conses.
Boolean values can take on the values <code>stella::true</code> or
<code>stella::false</code>.
</p>
<hr size="6">
<a name="NULL-Values"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Type-Declarations" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Wrapped-Literal-Values" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#PowerLoom-API" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Lisp-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="manual_7.html#Built_002dIn-Relations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="manual.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="manual_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="manual_14.html#Function-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="manual_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="NULL-values"></a>
<h4 class="subsubsection">6.2.1.3 NULL values</h4>

<p>One additional consequence of the strong typing of the language is that
there are specialized <code>NULL</code> values for numeric and string parameters.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">  Stella Type   Null Value
  ===========   ===========
    INTEGER     stella::null-integer
    FLOAT       stella::null-float
    STRING      stella::null-string
</pre></td></tr></table>

<hr size="6">
<a name="Wrapped-Literal-Values"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#NULL-Values" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Special-Variables" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#PowerLoom-API" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Lisp-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="manual_7.html#Built_002dIn-Relations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="manual.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="manual_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="manual_14.html#Function-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="manual_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Wrapped-Literal-Values-1"></a>
<h4 class="subsubsection">6.2.1.4 Wrapped Literal Values</h4>

<p>Literal values (integers, floats, strings, etc.) that are used in
PowerLoom appear as wrapped values.  The PowerLoom API functions
<code>object-to-...</code> can be used to coerce the values into the
appropriate return type.
</p>
<p>&lt;to be written:  wrapping values&gt;
</p>
<hr size="6">
<a name="Special-Variables"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Wrapped-Literal-Values" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#CLOS-Objects-versus-Structs" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#PowerLoom-API" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Lisp-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="manual_7.html#Built_002dIn-Relations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="manual.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="manual_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="manual_14.html#Function-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="manual_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Special-Variables-1"></a>
<h4 class="subsubsection">6.2.1.5 Special Variables</h4>

<p>All Stella special variables are implemented as Common Lisp special
variables.  Binding of the values can be used normally.
</p>
<hr size="6">
<a name="CLOS-Objects-versus-Structs"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Special-Variables" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#C_002b_002b-API" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#PowerLoom-API" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Lisp-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="manual_7.html#Built_002dIn-Relations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="manual.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="manual_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="manual_14.html#Function-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="manual_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="CLOS-Objects-versus-Structs-1"></a>
<h4 class="subsubsection">6.2.1.6 CLOS Objects versus Structs</h4>

<p>PowerLoom can be translated in one of two ways for Common Lisp.  One
method uses CLOS objects as the basis for all Stella and PowerLoom
objects.  For faster execution, it is also possible to use a version in
which Stella and PowerLoom objects are implemented using Common Lisp
structs instead.  This is controlled by the special variable 
<code>cl-user::*load-cl-struct-stella?*</code>.  If this is set to
<code>cl:t</code>, then the struct version will be loaded.  This needs to be
set before loading the &lsquo;<tt>load-powerloom.lisp</tt>&rsquo; file.
</p>
<hr size="6">
<a name="C_002b_002b-API"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#CLOS-Objects-versus-Structs" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Java-API" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#PowerLoom-API" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Language-Specific-Interface" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="manual_7.html#Built_002dIn-Relations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="manual.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="manual_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="manual_14.html#Function-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="manual_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="C_002b_002b-API-1"></a>
<h3 class="subsection">6.2.2 C++ API</h3>

<p>&lt;to be written&gt;
</p>

<hr size="6">
<a name="Java-API"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#C_002b_002b-API" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Initializing-PowerLoom" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#PowerLoom-API" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Language-Specific-Interface" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="manual_7.html#Built_002dIn-Relations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="manual.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="manual_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="manual_14.html#Function-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="manual_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Java-API-1"></a>
<h3 class="subsection">6.2.3 Java API</h3>

<p>This section tells how to call the API functions in PowerLoom&rsquo;s Java
implementation from a Java program.  The Java translation is written for
Java version 1.2.  All of the PowerLoom Interface functions appear as
static methods of the class <code>edu.isi.powerloom.PLI</code>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Initializing-PowerLoom">6.2.3.1 Initializing PowerLoom</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      
</td></tr>
<tr><td align="left" valign="top"><a href="#PowerLoom-Java-Conventions">6.2.3.2 PowerLoom Java Conventions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  
</td></tr>
<tr><td align="left" valign="top"><a href="#Using-the-PLI-Class">6.2.3.3 Using the PLI Class</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         
</td></tr>
<tr><td align="left" valign="top"><a href="#Using-Stella-Objects">6.2.3.4 Using Stella Objects</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        
</td></tr>
<tr><td align="left" valign="top"><a href="#PowerLoom-and-Threads">6.2.3.5 PowerLoom and Threads</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       
</td></tr>
<tr><td align="left" valign="top"><a href="#Setting-and-Restoring-Global-Variable-Values">6.2.3.6 Setting and Restoring Global Variable Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  
</td></tr>
<tr><td align="left" valign="top"><a href="#Java-Character-Mapping">6.2.3.7 Java Character Mapping</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      
</td></tr>
<tr><td align="left" valign="top"><a href="#Stella-Exceptions-in-Java">6.2.3.8 Stella Exceptions in Java</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">   
</td></tr>
<tr><td align="left" valign="top"><a href="#Iteration-in-Java">6.2.3.9 Iteration in Java</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           
</td></tr>
<tr><td align="left" valign="top"><a href="#Utility-Classes-for-Java">6.2.3.10 Utility Classes for Java</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">    
</td></tr>
</table>

<hr size="6">
<a name="Initializing-PowerLoom"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Java-API" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#PowerLoom-Java-Conventions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#PowerLoom-API" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Java-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="manual_7.html#Built_002dIn-Relations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="manual.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="manual_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="manual_14.html#Function-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="manual_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Initializing-PowerLoom-1"></a>
<h4 class="subsubsection">6.2.3.1 Initializing PowerLoom</h4>

<p>PowerLoom needs to run initialization functions to set up its
environment for proper operation when it starts up.  The simplest method 
for initializing PowerLoom is to use the static method call:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">        PLI.initialize()
</pre></td></tr></table>

<p>This must be called before using any PowerLoom features and before
loading any PowerLoom knowledge bases.  It may be called more than once
without ill effect.
</p>
<hr size="6">
<a name="PowerLoom-Java-Conventions"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Initializing-PowerLoom" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Using-the-PLI-Class" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#PowerLoom-API" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Java-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="manual_7.html#Built_002dIn-Relations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="manual.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="manual_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="manual_14.html#Function-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="manual_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="PowerLoom-Java-Conventions-1"></a>
<h4 class="subsubsection">6.2.3.2 PowerLoom Java Conventions</h4>

<p>PowerLoom&rsquo;s Java code is automatically generated by a translator from
underlying Stella code.  The character set for legal Stella names is larger
than the character set for legal Java identifiers, so there is some mapping
involved.
</p>
<p>PowerLoom names are words separated by hyphen (-) characters.  For Java,
we have attempted to closely follow the Java conventions:
</p>
<ul>
<li>
Class names begin with a capital letter and each word is capitalized.
The hyphens from the PowerLoom names are removed.  Example:
<table><tr><td>&nbsp;</td><td><pre class="example">        string-wrapper   =&gt;  StringWrapper
</pre></td></tr></table>
<p>   Exceptions are made for class names that would otherwise conflict with
   normal Java Classes.  In that case, the prefix &quot;Stella_&quot; is added to each
   class name.  At the moment this applies only to the following exceptions:
</p><table><tr><td>&nbsp;</td><td><pre class="example">        object    =&gt;  Stella_Object
        class     =&gt;  Stella_Class
</pre></td></tr></table>

</li><li>
Method and Function names begin with a lower case letter but each
subsequent word is capitalized.  The hyphens from PowerLoom names are
removed.  Example:
<table><tr><td>&nbsp;</td><td><pre class="example">        wrapper-value    =&gt;  wrapperValue
</pre></td></tr></table>

</li><li>
Storage slots are implemented as Java fields.  The names begin with a
lower case letter but each subsequent word is capitalized.  The hyphens
from PowerLoom names are removed.  Example:
<table><tr><td>&nbsp;</td><td><pre class="example">        dynamic-slots    =&gt;  dynamicSlots
</pre></td></tr></table>

</li><li>
Global and Special variable names are written in all uppercase.  The
hyphens from PowerLoom are replaced by underscore (_) characters.  By
convention, special variables are written in PowerLoom with surrounding
asterisk (*) characters.  The asterisks are replaced by dollar signs ($).
Example:
<table><tr><td>&nbsp;</td><td><pre class="example">        *html-quoted-characters*  =&gt;  $HTML_QUOTED_CHARACTERS$
</pre></td></tr></table>
</li></ul>

<p>The most common non-alphanumeric characters are mapped as follows.  A
full set of mappings is in section <a href="#Java-Character-Mapping">Java Character Mapping</a>.
</p><table><tr><td>&nbsp;</td><td><pre class="example">   ?  =&gt;  P      (for Predicate)
   !  =&gt;  X      (eXclamation)
   $  =&gt;  B      (Buck)
   %  =&gt;  R      (peRcent)
   &amp;  =&gt;  A      (Ampersand)
   *  =&gt;  $      Special variable marker.
</pre></td></tr></table>

<p>The character mappings use uppercase characters if the basic identifier
uses mixed or lower case.  The mappings use lowercase characters if the
basic identifier uses upper case.
</p>
<p>Stella modules are mapped to Java packages.  The basic system
distribution includes the following package hierarchy:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">  edu
     isi
        stella
            javalib
        powerloom
            logic
            pl_kernel_kb
                loom_api
</pre></td></tr></table>

<p>Basic system functionality and data structures such as Cons and List
objects are defined in stella.  PowerLoom&rsquo;s logic (concepts,
relations, rules, etc.) are defined in the logic package.  There is a
set of interface functions in the PLI class in the powerloom package.
They are described in their own section below.
</p>
<p>We recommend the following import statements in Java files that use
PowerLoom:
</p><table><tr><td>&nbsp;</td><td><pre class="example">        import edu.isi.stella.*;
        import edu.isi.stella.javalib.*;
        import edu.isi.powerloom.PLI;
        import edu.isi.powerloom.logic.*;
</pre></td></tr></table>

<p>Functions (in Java terms, static Methods) are translated as static methods
on the class of their first argument (as long as that argument is not a
primitive type and is in the same Stella module).  Functions which take no
arguments, those whose first argument is a primitive type, and those whose
first argument is a class not defined in the same module are all placed
into a class with the same name as the Stella module in which it appers.
It will be in the package corresponding to that Stella module.  Java
constructors should not be called directly.  Instead, there will be a
static method <code>new&lt;ClassName&gt;</code> (with the class name in mixed case!) that
should be used instead.
</p>
<p>Most of the functions of interest will be in the edu.isi.stella.Stella, 
edu.isi.powerloom.PLI or edu.isi.powerloom.logic.Logic classes.
</p>
<p>Methods typically refer to their first argument as &quot;self&quot;.
</p>
<p>Methods which return more than one return value will take a final
argument which is an array of <code>Stella_Object</code>, which will be used to
return the additional arguments.
</p>
<p>Primitive types in Stella have the following mapping in Java:
</p><table><tr><td>&nbsp;</td><td><pre class="example">        Stella          Java
        ======          ====
        INTEGER         int
        FLOAT           double
        NUMBER          double
        CHARACTER       char
        BOOLEAN         boolean
        STRING          String
        MUTABLE-STRING  StringBuffer

  NATIVE-OUTPUT-STREAM  java.io.PrintStream
  NATIVE-INPUT-STREAM   java.io.PushbackInputStream  (May change!!!)
</pre></td></tr></table>

<p>Inside Stella/PowerLoom objects and collections, primitive types are
wrapped using Stella wrappers instead of Java&rsquo;s primitive classes.  So
integers will be wrapped as edu.isi.stella.IntegerWrapper rather than
java.lang.Integer.  Wrappers have a field called wrapperValue which
accesses the internal value.  Example of use:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">    import edu.isi.stella.*;
    import edu.isi.stella.javalib.*;
    ...
    IntegerWrapper iWrap = IntegerWrapper.wrapInteger(42);
    ...
    int answer = iWrap.wrapperValue;
    ...
</pre></td></tr></table>

<hr size="6">
<a name="Using-the-PLI-Class"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#PowerLoom-Java-Conventions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Stella-Objects" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#PowerLoom-API" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Java-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="manual_7.html#Built_002dIn-Relations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="manual.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="manual_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="manual_14.html#Function-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="manual_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Using-the-PLI-Class-1"></a>
<h4 class="subsubsection">6.2.3.3 Using the PLI Class</h4>

<p>To make interoperability between PowerLoom and Java a little simpler, we
are providing a (PowerLoom Interface class named <code>PLI</code> which
handles synchronization issues, setting and restoring the reasoning
context, and the a more convenient use of some Java-native objects
rather than Stella objects.  Generally that means that strings are used
for PowerLoom expressions and return values rather than Stella
<code>Cons</code> objects.
</p>
<p>Details about the methods can be found in the section <a href="#PowerLoom-API">PowerLoom API</a>.  The names of functions in that section will need to be converted
to their Java equivalents using the conventions described in
<a href="#PowerLoom-Java-Conventions">PowerLoom Java Conventions</a>.  We also provide javadoc
documentation for the <code>edu.isi.powerloom.PLI</code> class.  We recommend
using this method for accessing PowerLoom functionality.  We expect to
expand the range of PowerLoom interface functions that have an analog in
the <code>PLI</code> class over time.
</p>
<hr size="6">
<a name="Using-Stella-Objects"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Using-the-PLI-Class" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#PowerLoom-and-Threads" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#PowerLoom-API" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Java-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="manual_7.html#Built_002dIn-Relations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="manual.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="manual_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="manual_14.html#Function-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="manual_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Using-Stella-Objects-1"></a>
<h4 class="subsubsection">6.2.3.4 Using Stella Objects</h4>

<p>Stella objects can also be used directly.  The most common ones used by
PowerLoom users are <code>Module</code> and <code>LogicObject</code>.  Other
potentially useful Stella objects are <code>Cons</code>, <code>Symbol</code>,
<code>Keyword</code> and <code>List</code>.  Except for <code>LogicObject</code>, these are in
the <code>edu.isi.stella</code> package.  <code>LogicObject</code> is in the
<code>edu.isi.powerloom.logic</code> package.
</p>
<p>If one wishes to construct <code>Cons</code> objects (for example to create
objects to pass to interface functions, one would begin by building
items up using <code>Stella_Object.cons</code> static method, which takes a
stella object and a cons.  The empty cons is kept in the
<code>edu.isi.stella.Stella.NIL</code> static variable.  Another way to create
stella objects is to use <code>edu.isi.stella.Stella.unstringify</code> static
method.  This method takes a string representation of a stella object
and returns the object.  If passed a list, an object of type <code>Cons</code>
will be returned.
</p>
<p>As an alternative, one can also convert one and two dimensional arrays
of <code>Stella_Object</code> into <code>Cons</code> objects using the overloaded
function <code>edu.isi.stella.javalib.arrayToCons</code>.  These functions
will return <code>Cons</code> objects constructed from the input arrays.
</p>
<p>Keywords and symbols are objects that are stored in global static
variables.  The variable names are all in upper case and are constructed
by concatenating the tag SYM with the module name and the name of the
symbol or concatenating the tag KWD with the name of the keyword.  For
example, the symbol BACKWARD in the logic module would be stored in
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">        edu.isi.powerloom.logic.Logic.SYM_LOGIC_BACKWARD
</pre></td></tr></table>

<p>whereas the keyword :ERROR in the stella module would be in
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">        edu.isi.stella.Stella.KWD_ERROR
</pre></td></tr></table>


<hr size="6">
<a name="PowerLoom-and-Threads"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Using-Stella-Objects" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Setting-and-Restoring-Global-Variable-Values" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#PowerLoom-API" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Java-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="manual_7.html#Built_002dIn-Relations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="manual.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="manual_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="manual_14.html#Function-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="manual_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="PowerLoom-and-Threads-1"></a>
<h4 class="subsubsection">6.2.3.5 PowerLoom and Threads</h4>

<p>The most important consideration when using PowerLoom in a threaded
environment is that the core of PowerLoom must not execute in
concurrently running threads.  The PLI class takes care of this for
interface functions that run through that class.  Other PowerLoom
functions that are called need to synchronize on a lock object
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">        edu.isi.powerloom.logic.Logic.$POWERLOOM_LOCK$
</pre></td></tr></table>

<p>for proper operation.  This is not needed for setting Special Variables,
since they are implemented on a per-thread basis.  The most important
special variable is the reasoning context.  See section <a href="#Setting-and-Restoring-Global-Variable-Values">Setting and Restoring Global Variable Values</a>.
</p>

<hr size="6">
<a name="Setting-and-Restoring-Global-Variable-Values"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#PowerLoom-and-Threads" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Java-Character-Mapping" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#PowerLoom-API" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Java-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="manual_7.html#Built_002dIn-Relations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="manual.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="manual_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="manual_14.html#Function-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="manual_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Setting-and-Restoring-Global-Variable-Values-1"></a>
<h4 class="subsubsection">6.2.3.6 Setting and Restoring Global Variable Values</h4>

<p>As noted above, special variables in Stella are implemented as static
fields in a catchall class named the same as the Stella module.  It will
be in the java package corresponding to that Stella module.  The values
of Special variables are stored in Java objects of the type
<code>StellaSpecialVariable</code>, a subclass of Java&rsquo;s <code>InheritableThreadLocal</code>.  Any
changes made to the values will not affect any other running threads.
This means that the changes don&rsquo;t need to be synchronized.  Note that
global (as opposed to special) variables don&rsquo;t use these objects.
</p>
<p>Numbers and boolean values are stored in special variables using the
corresponding Java classes <code>Integer</code>, <code>Double</code>,
<code>Boolean</code>, etc.  The naming convention is to have all upper case
letters with a dollar sign ($) at the beginning and end of the name.
</p>
<p>To temporarily change the value of one of these variables, users will
need to be responsible for saving and restoring the old values.  Use of
the &quot;<code>try ... finally ...</code>&quot; construct is very useful for this, since it
guarantees that the restore of values will be done.  An example follows
of how to safely change modules.  Contexts should be changed using the
functions, although other global variables can be changed by using the
set method.  Note that we use variables of type Object to hold the
values, since that avoids the need to cast when extracting the current
value, since the only operation we do with the current value is save it
to restore it later.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">   import edu.isi.stella.*;

   // CONTEXT CHANGE.
   Object savedModule = Stella.$MODULE$.get();
   Module newModule
      = Stella.getStellaModule(contextName, true);
   if (newModule == null) { // Handle missing module
   }
   try {
     Module.changeCurrentModule(newModule)
     // Code that uses the newModule

   } finally {
     Module.changeCurrentModule(savedModule);
   }


   // INTEGER VALUE CHANGE:
   Object savedValue = Stella.$SAFETY$.get();
   try {
     Stella.$SAFETY$.set(new Integer(3));
     // Code that uses the newModule

   } finally {
     Stella.$SAFETY$.set(savedValue);
   }


   // BOOLEAN VALUE CHANGE:
   Object savedValue = Stella.$PRINTREADABLY$.get();
   try {
     Stella.$PRINTREADABLY$.set(Boolean.TRUE);
     // Code that uses the newModule

   } finally {
     Stella.$PRINTREADABLY$.set(savedValue);
   }
</pre></td></tr></table>

<p>The need to change the module using this type of code can be largely
avoided by using the functions in the PLI interface package.  They take
a module argument and can handle the binding and restoration of the
module value themselves.
</p>
<hr size="6">
<a name="Java-Character-Mapping"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Setting-and-Restoring-Global-Variable-Values" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Stella-Exceptions-in-Java" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#PowerLoom-API" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Java-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="manual_7.html#Built_002dIn-Relations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="manual.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="manual_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="manual_14.html#Function-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="manual_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Java-Character-Mapping-1"></a>
<h4 class="subsubsection">6.2.3.7 Java Character Mapping</h4>

<p>The full Stella to Java character mapping is the following. The
character mappings use uppercase characters if the basic identifier uses
mixed or lower case.  The mappings use lowercase characters if the basic
identifier uses upper case.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">   Stella  Java     Mnemonic
   ======  ====     ========
     !   =&gt;  X      (eXclamation)
     &quot;   =&gt;  _
     #   =&gt;  H      (Hash)
     $   =&gt;  B      (Buck)
     %   =&gt;  R      (peRcent)
     &amp;   =&gt;  A      (Ampersand)
     '   =&gt;  Q      (Quote)
     (   =&gt;  _
     )   =&gt;  _
     *   =&gt;  $
     +   =&gt;  I      (Increase)
     ,   =&gt;  _
     -   =&gt;  _
     .   =&gt;  D      (Dot)
     /   =&gt;  S      (Slash)
     :   =&gt;  C      (Colon)
     ;   =&gt;  _
     &lt;   =&gt;  L      (Less than)
     =   =&gt;  E      (Equal)
     &gt;   =&gt;  G      (Greater than)
     ?   =&gt;  P      (Predicate)
     @   =&gt;  M      (Monkey tail)
     [   =&gt;  J      (Arbitrary (array index?))
     \   =&gt;  _
     ]   =&gt;  K      (Arbitrary (array index?)
     ^   =&gt;  U      (Up arrow)
     `   =&gt;  _
     {   =&gt;  Y      (Arbitrary (adjacent free letter))
     |   =&gt;  V      (Vertical bar)
     }   =&gt;  Z      (Arbitrary (adjacent free letter))
     ~   =&gt;  T      (Tilde)
&lt;space&gt;  =&gt; _
</pre></td></tr></table>

<hr size="6">
<a name="Stella-Exceptions-in-Java"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Java-Character-Mapping" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Iteration-in-Java" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#PowerLoom-API" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Java-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="manual_7.html#Built_002dIn-Relations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="manual.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="manual_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="manual_14.html#Function-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="manual_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Stella-Exceptions-in-Java-1"></a>
<h4 class="subsubsection">6.2.3.8 Stella Exceptions in Java</h4>

<p>Stella exceptions are implemented as a subtype of <code>java.lang.Exception</code>
(actually <code>RunTimeException</code>) and may be caught normally.  All Stella
Exceptions belong to the <code>edu.isi.stella.StellaException</code> class or one of
its subclasses.  The more specfic PowerLoom exceptions belong to the
<code>edu.isi.powerloom.logic.LogicException</code> class or one of its subclasses.
</p>
<p>Exceptions thrown during I/O operations will not use the standard Java
exceptions.  Instead, they will descend from
<code>edu.isi.stella.InputOutputException</code>.  The most useful
descendents are <code>edu.isi.stella.NoSuchFileException</code> and
<code>edu.isi.stella.EndOfFileException</code>.
</p>
<hr size="6">
<a name="Iteration-in-Java"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Stella-Exceptions-in-Java" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Utility-Classes-for-Java" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#PowerLoom-API" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Java-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="manual_7.html#Built_002dIn-Relations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="manual.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="manual_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="manual_14.html#Function-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="manual_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Iteration-in-Java-1"></a>
<h4 class="subsubsection">6.2.3.9 Iteration in Java</h4>

<p>Iteration in Stella (and by extension) PowerLoom is organized a little
bit differently than in Java.  You can either use the Stella iterators
directly, or else use one of the wrapper classes described in the
section <a href="#Utility-Classes-for-Java">Utility Classes for Java</a>.  It will present a more
familiar Java interface.  Since the iteration models are a bit
different, it would be unwise to mix accesses between the iteration
models.
</p>
<p>Stella iterators do not compute any values until the next? method (in
Java: <code>nextP</code>) is called.  This method will try to compute the next
value of the iterator and it will return a boolean value which is true
if more values are present.  Each time it is called, the iteration
advances.  Values can be read out of the value field of the iterator,
which will have type <code>Stella_Object</code>.  Some iterators will also
have a key field which can be read.
</p>
<p>The way one would normally use a Stella iterator is as follows, with
possible casting of the value field:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">    Stella.Iterator iter = ...;

    while (iter.nextP()) {
        processValue(iter.value);
    }
</pre></td></tr></table>

<p>The PLI class also contains a number of functions for simplifying the
interaction with <code>PlIterator</code> objects that are returned by various
API functions.  These are the <code>getNth...</code> functions.  They work
on sequences and sequence-like objects such as <code>Proposition</code> and
and the value slot of <code>PlIterator</code> objects.  Note that they do
not return sequential elements of the iterator, but rather elements
of the implicit sequence that is the value of iterators that have
more than one return variable.  For convenience, they also work (with
index = 0) on the value of <code>PlIterator</code> objects that have only a
single return variable.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">    // Get values of (object name age) in the iterator and then
    // print out a message with the name and age (position 1 &amp; 2).
    // This skips the PowerLoom object bound to ?X in position 0.
    PlIterator iter = 
        PLI.sRetrieve(&quot;all (and (name ?x ?name) (age ?x ?age))&quot;,
                      null,
                      null);

    while (iter.nextP()) {
        System.out.println(PLI.getNthString(iter, 1, null, null) + &quot; is &quot; +
                           PLI.getNthInteger(iter, 2, null, null ) + &quot; years old.&quot;);
    }
</pre></td></tr></table>

<hr size="6">
<a name="Utility-Classes-for-Java"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Iteration-in-Java" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="manual_7.html#Built_002dIn-Relations" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#PowerLoom-API" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Java-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="manual_7.html#Built_002dIn-Relations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="manual.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="manual_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="manual_14.html#Function-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="manual_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Utility-Classes-for-Java-1"></a>
<h4 class="subsubsection">6.2.3.10 Utility Classes for Java</h4>

<p>To make interoperation of Stella and Java easier, there are several
convenience classes for wrapping Stella iterators and having them behave
like Java enumerations or iterators.  These convenience classes are in the
<code>edu.isi.stella.javalib</code> package:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">  ConsEnumeration.java      Enumeration class for Cons objects
  ConsIterator.java         Iterator class for Cons objects
  StellaEnumeration.java    Enumeration interface to Stella's Iterator
  StellaIterator.java       Iterator interface to Stella's Iterator
</pre></td></tr></table>

<p>All of the iterators and enumerators return objects that are actually of
type <code>Stella_Object</code>, but the signature specifies
<code>java.lang.Object</code> as required for compatibility with the standard
Java signature.  The <code>Cons...</code> classes take a <code>Cons</code> in their
constructor.  The <code>Stella...</code> classes take a
<code>edu.isi.stella.Iterator</code> object in their constructor.
</p>


 
<hr size="6">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#PowerLoom-API" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="manual_7.html#Built_002dIn-Relations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="manual.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="manual_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="manual_14.html#Function-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="manual_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated by <em>Hans Chalupsky</em> on <em>April 20, 2011</em> using <a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.82</em></a>.
 </font>
 <br>

</p>
</body>
</html>
